ka9q-radio CMake Build System - File Structure
================================================

PROJECT ROOT
â”‚
â”œâ”€â”€ CMakeLists.txt (15KB) â­ CORE BUILD FILE
â”‚   â””â”€> Main CMake configuration
â”‚       â€¢ Cross-platform support (Linux/FreeBSD/macOS)
â”‚       â€¢ Component-based packaging (runtime + systemd)
â”‚       â€¢ Automatic dependency detection
â”‚       â€¢ Package generation (DEB/RPM/TXZ)
â”‚
â”œâ”€â”€ README.md (8.4KB) ğŸ“˜ MAIN DOCUMENTATION
â”‚   â””â”€> Complete overview of all files
â”‚       â€¢ Feature summary
â”‚       â€¢ Platform support matrix
â”‚       â€¢ File descriptions
â”‚       â€¢ Installation directories
â”‚
â”œâ”€â”€ START_HERE.md (8.5KB) ğŸš€ NEW USER GUIDE
â”‚   â””â”€> Quick start for first-time users
â”‚       â€¢ TL;DR instructions
â”‚       â€¢ Document roadmap
â”‚       â€¢ Common questions
â”‚       â€¢ Philosophy and principles
â”‚
â”œâ”€â”€ COMPONENT_GUIDE.md (13KB) ğŸ“Š VISUAL GUIDE
â”‚   â””â”€> Diagrams and flowcharts
â”‚       â€¢ Build process flow
â”‚       â€¢ Installation scenarios  
â”‚       â€¢ Dependency graphs
â”‚       â€¢ Decision trees
â”‚
â”œâ”€â”€ COMPONENTS.md (7.9KB) ğŸ“¦ PACKAGING DEEP DIVE
â”‚   â””â”€> Detailed component documentation
â”‚       â€¢ How components work
â”‚       â€¢ Building individual components
â”‚       â€¢ Distribution strategies
â”‚       â€¢ Migration paths
â”‚
â”œâ”€â”€ CMAKE_README.md (9.2KB) ğŸ› ï¸ BUILD REFERENCE
â”‚   â””â”€> Complete build documentation
â”‚       â€¢ Prerequisites per platform
â”‚       â€¢ Build instructions
â”‚       â€¢ Configuration options
â”‚       â€¢ Troubleshooting
â”‚
â”œâ”€â”€ QUICKSTART.md (5.5KB) âš¡ INTEGRATION GUIDE
â”‚   â””â”€> Step-by-step setup
â”‚       â€¢ Prepare repository
â”‚       â€¢ Adjust source paths
â”‚       â€¢ Build and test
â”‚       â€¢ Common adjustments
â”‚
â”œâ”€â”€ INIT_SYSTEMS.md (8KB) ğŸ”§ SYSTEMD vs NON-SYSTEMD
â”‚   â””â”€> Init system support
â”‚       â€¢ Detection logic
â”‚       â€¢ Use cases and scenarios
â”‚       â€¢ Manual service setup
â”‚       â€¢ Compatibility matrix
â”‚
â”œâ”€â”€ MACOS.md (5.2KB) ğŸ MACOS SPECIFICS
â”‚   â””â”€> macOS platform guide
â”‚       â€¢ Homebrew detection
â”‚       â€¢ MacPorts detection
â”‚       â€¢ Mixed installations
â”‚       â€¢ Troubleshooting
â”‚
â”œâ”€â”€ systemd/
â”‚   â””â”€â”€ radiod@.service.in (628B) âš™ï¸ SYSTEMD TEMPLATE
â”‚       â””â”€> Service file template
â”‚           â€¢ Multiple instance support
â”‚           â€¢ Configured by CMake
â”‚           â€¢ Part of systemd component
â”‚
â”œâ”€â”€ debian/
â”‚   â”œâ”€â”€ postinst (2.2KB) ğŸ“‹ RUNTIME INSTALLER
â”‚   â”‚   â””â”€> Post-installation script
â”‚   â”‚       â€¢ Creates radio user/group
â”‚   â”‚       â€¢ Sets permissions
â”‚   â”‚       â€¢ Adapts to init system
â”‚   â”‚
â”‚   â””â”€â”€ systemd-postinst (1.1KB) ğŸ“‹ SYSTEMD INSTALLER
â”‚       â””â”€> systemd component installer
â”‚           â€¢ Reloads systemd
â”‚           â€¢ Provides instructions
â”‚
â””â”€â”€ freebsd/
    â””â”€â”€ radiod.in (3KB) ğŸ”± FREEBSD RC SCRIPT
        â””â”€> FreeBSD service script
            â€¢ Multiple instance support
            â€¢ rc.d integration


DOCUMENTATION READING ORDER
============================

1. For New Users:
   START_HERE.md â†’ Gives you the big picture and TL;DR

2. For Quick Setup:
   QUICKSTART.md â†’ Step-by-step integration into ka9q-radio

3. For Understanding Components:
   COMPONENT_GUIDE.md â†’ Visual guide with diagrams
   COMPONENTS.md â†’ Detailed technical documentation

4. For Building:
   CMAKE_README.md â†’ Complete build reference

5. For Init System Questions:
   INIT_SYSTEMS.md â†’ systemd vs non-systemd scenarios

6. For macOS:
   MACOS.md â†’ Homebrew and MacPorts support

7. For Reference:
   README.md â†’ Complete file listing and descriptions


BUILD WORKFLOW
==============

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Clone ka9q-radio                                        â”‚
â”‚    git clone https://github.com/ka9q/ka9q-radio.git        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Copy CMake files to repository                          â”‚
â”‚    cp CMakeLists.txt ./                                     â”‚
â”‚    cp -r systemd debian freebsd ./                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Configure and build                                      â”‚
â”‚    mkdir build && cd build                                  â”‚
â”‚    cmake ..                                                 â”‚
â”‚    cmake --build . -j                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Generate packages                                        â”‚
â”‚    cpack -G DEB                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RESULT: Two packages                                        â”‚
â”‚ â€¢ ka9q-radio-1.0.0-Linux.deb (runtime)                     â”‚
â”‚ â€¢ ka9q-radio-systemd-1.0.0-Linux.deb (systemd support)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


COMPONENT PACKAGING
===================

ONE BUILD â†’ TWO PACKAGES

Runtime Component:                  systemd Component:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ka9q-radio.deb      â”‚            â”‚ ka9q-radio-systemd   â”‚
â”‚                     â”‚            â”‚  .deb                â”‚
â”‚ Contents:           â”‚            â”‚                      â”‚
â”‚ â€¢ radiod            â”‚            â”‚ Contents:            â”‚
â”‚ â€¢ control/monitor   â”‚            â”‚ â€¢ radiod@.service    â”‚
â”‚ â€¢ utilities         â”‚            â”‚ â€¢ sysctl configs     â”‚
â”‚ â€¢ configs           â”‚            â”‚                      â”‚
â”‚ â€¢ udev rules        â”‚            â”‚ Depends:             â”‚
â”‚                     â”‚            â”‚ â€¢ ka9q-radio (exact) â”‚
â”‚ Depends:            â”‚            â”‚ â€¢ systemd            â”‚
â”‚ â€¢ libfftw3-single3  â”‚            â”‚                      â”‚
â”‚ â€¢ libopus0          â”‚            â”‚ Architecture: all    â”‚
â”‚ â€¢ libbsd0           â”‚            â”‚                      â”‚
â”‚ â€¢ (NO systemd)      â”‚            â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                                   â†“
        â”‚                                   â”‚
        â†“                                   â†“
Works on ANY system              Only on systemd systems


KEY FEATURES
============

âœ… Build once on any system (systemd or not)
âœ… Runtime package works everywhere
âœ… Optional systemd support package
âœ… Auto-detects macOS package managers (Homebrew/MacPorts)
âœ… Supports all hardware (airspy, hackrf, rtl-sdr, etc.)
âœ… Component-based packaging (DEB/RPM/TXZ)
âœ… Professional post-install scripts
âœ… Multi-platform (Linux/FreeBSD/macOS)
âœ… Init-system agnostic
âœ… Coexists with existing Makefiles
âœ… Well documented


PLATFORM SUPPORT
================

Linux (Debian/Ubuntu)    âœ… Full support (all init systems)
Linux (RPM-based)        âœ… Full support (all init systems)
FreeBSD                  âœ… Full support (rc.d integration)
macOS                    âš ï¸  Partial (client programs, auto package manager detection)


FILE SIZE SUMMARY
=================

Documentation:
  START_HERE.md         8.5KB  (new user introduction)
  COMPONENT_GUIDE.md   13.0KB  (visual guide)
  COMPONENTS.md         7.9KB  (technical details)
  CMAKE_README.md       9.2KB  (build reference)
  README.md             8.4KB  (file overview)
  QUICKSTART.md         5.5KB  (integration steps)
  INIT_SYSTEMS.md       8.0KB  (init system guide)
  MACOS.md              5.2KB  (macOS specifics)

Build System:
  CMakeLists.txt       15.0KB  (main build config)

Platform Support:
  radiod@.service.in    0.6KB  (systemd template)
  postinst              2.2KB  (runtime installer)
  systemd-postinst      1.1KB  (systemd installer)
  radiod.in             3.0KB  (FreeBSD rc.d)

Total: ~88KB of documentation and build system files


VERSION INFORMATION
===================

CMake Build System v1.0
Created: November 2025
Compatible with: ka9q-radio (current)
License: GPL-3.0 (same as ka9q-radio)


QUICK REFERENCE
===============

Build:           cmake .. && cmake --build . -j
Package:         cpack -G DEB
Test runtime:    radiod --help
Test systemd:    systemctl cat radiod@

Install (systemd):     dpkg -i ka9q-radio*.deb
Install (non-systemd): dpkg -i ka9q-radio_*_amd64.deb

Help: See START_HERE.md for guidance on which documents to read
